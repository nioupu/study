提权8步
1. 系统信息

目的： 收集关于操作系统的版本、内核、架构和已安装软件包等信息。这些信息有助于识别已知的漏洞或配置缺陷
uname -a	 ： 显示内核信息（名称、版本、发布时间、架构等）。版本过旧可能对应已知内核漏洞
cat /etc/os-release：显示操作系统发行版信息（如 Ubuntu 20.04）。用于查找该发行版特有的配置或软件包漏洞
hostname：显示主机名。有助于了解系统在网络中的角色
ip a 或 ifconfig：显示网络接口配置。了解系统的网络环境
2. SUID

目的： 查找设置了 SUID (Set User ID) 位的可执行文件。当一个 SUID 文件被普通用户执行时，它会以该文件所有者（通常是 root）的权限运行。如果该程序设计不当，可能被滥用
find / -perm -4000 2>/dev/null：从根目录 / 开始，查找所有权限位包含 -4000 (即 SUID 位) 的文件，并将错误输出重定向到空
find / -user root -perm -4000 2>/dev/null：查找所有者为 root 且设置了 SUID 位的文件，这是最需要关注的
3. sudo -l

目的：检查当前用户是否有权限以其他用户（通常是 root）的身份执行某些命令，而无需密码
sudo -l：列出当前用户可以在 sudo 命令下执行的所有命令及其执行身份
4. cron

目的： 检查系统和用户定义的定时任务。如果 cron 任务是以高权限（如 root）运行，并且任务脚本或其引用的文件路径存在弱权限，攻击者可能修改该脚本，等待 cron 运行时执行恶意代码
cat /etc/crontab：查看系统级别的定时任务文件。
ls -l /etc/cron.*	：查看 cron 目录下定期执行的任务脚本
5. 弱权限

目的： 查找系统中任何用户都可以写入的文件或目录，尤其是那些会被高权限程序读取或执行的文件（如配置文件、日志目录等）
find / -perm -o+w 2>/dev/null：查找权限位中包含 o+w (Other-Writable，即任何人可写) 的文件或目录
ls -lR /var/log/：检查日志目录的权限，看是否存在可被修改或清空的情况
6. services（mysql/nfs/docker）

目的： 检查系统上运行的服务及其配置。常见的问题包括：
MySQL/PostgreSQL: 配置文件中泄露的数据库凭证
NFS (网络文件系统): 不安全的共享配置（如 no_root_squash），允许远程用户以 root 权限挂载和操作文件
Docker: 如果用户属于 docker 组，他们可以运行一个容器，将主机根目录挂载进去，从而获得对主机的完全 root 访问权限
ps aux：查看当前运行的所有进程，以发现正在运行的服务及其用户
netstat -tulnp：查看开放的网络端口和监听的程序
cat /etc/exports：检查 NFS 共享配置
groups：检查当前用户是否属于 docker 或其他特权组
7. capabilities

目的： 检查文件是否设置了 Linux Capabilities。这是一个比 SUID 更细粒度的权限机制。例如，一个程序可能被赋予 cap_net_raw（发送任意网络包的能力），即使它不是以 root 运行，也具备一定的特权操作
getcap -r / 2>/dev/null：递归地从根目录 / 开始，列出所有设置了 Capabilities 的文件
8. kernel exploit

目的：作为最后手段，利用已知的操作系统内核中的漏洞来获取 root 权限
使用搜索引擎或漏洞库（如 Exploit-DB）查找该内核版本是否有已公开的本地权限提升 (LPE) 漏洞。